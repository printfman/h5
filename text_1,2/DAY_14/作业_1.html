<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#box{
				width: 200px;
				height: 200px;
				background-color: paleturquoise;
				position: absolute;
				cursor: move;
			}
		</style>
	</head>
	<body>
		<div id="box">
			
		</div>
	</body>
</html>
<script>
	
	var oBox=document.querySelector("#box");
	
	
	function fun(obj){
		obj.onmousedown=function(evt){
			var e=evt||event;
			var offsetx=e.offsetX;
			var offsety=e.offsetY;
			document.onmousemove=function(evt){
				var e=evt||event;
				var x=e.pageX-offsetx;
				var y=e.pageY-offsety;
				if(x<0){
					x=0;
				}
				if(y<0){
					y=0;
				}
				var xr=window.innerWidth-obj.offsetWidth;
				var yr=window.innerHeight-obj.offsetHeight;
				if(x>xr){
					x=xr;
				}
				if(y>yr){
					y=yr;
				}
				obj.style.left=x+"px";
				obj.style.top=y+"px";
			}
			document.onmouseup=function(){
				document.onmousemove=null;
			}
		}
	}
	fun(oBox);
	
</script>